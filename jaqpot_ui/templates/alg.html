{% extends "base.html" %}

{% block content %}
<form method="post" id="form1" enctype="multipart/form-data"> {% csrf_token %}
<div class="div-table" style="width:100%; display: inline-block; padding:10px;">
    <div style="float:left; width:50%;">
            <h1>Algorithm</h1>
            <h3>Title: {{algorithms}}</h3>
            {% if al.meta.titles %}
                <div>
                    <label class="align">Title:</label>
                    <input type="text" style="margin:5px;width:40%;" readonly="readonly" value="{{al.meta.titles.0}}">
                </div>
            {% endif %}
            {% if al.publisher %}
                <div>
                    <label class="align">Publisher:</label>
                    <input type="text" style="margin:5px;" value="{{al.publisher}}">
                </div>
            {% endif %}
            {% if al.contributor %}
                <div>
                    <label class="align">Contributor:</label>
                    <input type="text" style="margin:5px;" value="{{al.contributor}}">
                </div>
            {% endif %}
            {% if al.date %}
                <div>
                    <label class="align">Date:</label>
                    <input type="text" style="margin:5px;" value="{{al.date}}">
                </div>
            {% endif %}
            {% if al.parameters %}
                <h6><b>Parameters:</b></h6>
                 {% for p in al.parameters%}
                    <div>
                        <label class="align">{{p.name}}:</label>
                        <input type="text" name="{{p.name}}" style="margin:5px;" value="{{p.value}}">
                    </div>
                 {% endfor %}
            {% endif %}
            {% if al.rights %}
                <p><b>Copyright:</b></p>
                <textarea class="form-control" rows="3" readonly="readonly" style="margin:5px;">{{al.info.rights}}

                </textarea>
            {% endif %}
        <br>
         <h3>Fill in the title and description of the produced model</h3>
        <div>
            <label class="align" >Model name:</label>
            <input type="text" name="title" class="align">
        </div>
        <br>
         <p><b>Model description:</b></p>
        <textarea class="form-control" name="description" style="width:30%;" rows="6"></textarea>

    </div>
    <div style="float:right; width:50%;">
        <h5>Select variables (optional):</h5>
        <input type="radio" name="radio_pmml" id="pmml1" value="input"> Select Input variable and endpoint<br>
        <input type="radio" name="radio_pmml" id="pmml2" value="pm" >Select PMML<br>
        <input type="radio" name="radio_pmml" id="pmml3" value="file">Upload PMML file<br>
        <input type="radio" name="radio_pmml" id="pmml4" value="none" checked >None
        </div>

    <div id="input" style="float:right; width:50%; border: 3px solid #cf2323;padding:5px;margin:0 0 5px; border-radius:5px;display:none;">

        <h5><input type="radio" name="radio1" value="I/O" style="display:none;">Select Input variable and endpoint:</h5>
        <div style="float:left; width:50%;">
        <h5>Input</h5>
        <div>
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio" value="option1">Variable1</label>
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio" value="option2">Variable2</label>
            </div>

            </div>
        <div style="float:left; width:50%">
        <h5>Output</h5>
        <div>
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio2" value="out_option1">Variable1</label>
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio2" value="out_option2">Variable2</label>
            </div>

            </div>
    </div>
    <div id="PMML" style="float:right; width:50%; border: 3px solid #cf2323;padding:5px;margin:0 0 5px; border-radius:5px;display:none;">

        <div>
            <h5><input type="radio" name="radio1" value="PMML" style="display:none;">Select PMML:</h5>
            <select name="pmml_file">
                {% if not pmml %}
                 <option value="">no pmml</option>
                {% else %}
                {% for p in pmml %}
                  <option value="{{p}}">{{p}}</option>
                {% endfor %}
                {% endif %}
            </select>
            <br>
        </div>
    </div>
    <div id="file" style="float:right; width:50%; border: 3px solid #cf2323;padding:5px;margin:0 0 5px; border-radius:5px;display:none;">
        <h5><input type="radio" name="radio1" value="PMML file" style="display:none;">Upload a PMML with transformations(optional):</h5>{{uploadform.file}}
    </div>
    <br>
    <br>
    <div style="float:right; width:50%;">
        <h3>Select scaling method:</h3>
        <select name="scaling">
                      <option value="scaling1" >None</option>
                      <option value="scaling2" >Scaling between zero and one</option>
                      <option value="scaling3" >Normalization</option>
        </select>
        <h3>Select domain of applicability method:</h3>
        <select name="doa">
                      <option value="doa1">None</option>
                      <option value="doa2">Leverage method</option>
                      <option value="doa3" >Other method</option>
        </select>
        <br>
        <br>
         <!-- <a href="/change_params?data={{dataset}}&alg={{algorithms}}" class="btn bt-red" style="width:10%; float:left; left:10%;" >Train</a> -->
        <input id="choose_alg" type="submit" value="Train" class="btn bt-red" style="width: 10%; float:left; left:10%;">
    </div>

    </div>
</form>

<script>

     $("select").selecter();
     $('#pmml1').click(function() {
            $("#input").show();
            $("#file").hide();
            $("#PMML").hide();
     });
     $('#pmml2').click(function() {
            $("#input").hide();
            $("#file").hide();
            $("#PMML").show();
     });
      $('#pmml3').click(function() {
            $("#input").hide();
            $("#file").show();
            $("#PMML").hide();
     });
     $('#pmml4').click(function() {
            $("#input").hide();
            $("#file").hide();
            $("#PMML").hide();
     });
</script>

{%endblock%}