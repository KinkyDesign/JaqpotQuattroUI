{% extends "base.html" %}

{% load templates_extras %}

{% block content %}
<div class="div-table" style="width:100%;">
    <h1>Report: <span style="font-size: 20px;">#{{name}}</span> </h1>
    {% if report.meta.title %}
        <div>
            <label class="align">Title:</label>
            <input type="text" readonly="readonly" style="margin:5px" value="{{report.meta.title}}">
        </div>
    {% endif %}
     {% if report.meta.description %}
        <div>
        <label class="align">Description:</label>
         <textarea class="form-control" rows="3" readonly="readonly" style="margin:5px;width:99%;">{{report.meta.descriptions.0}}</textarea>
    </div>
     {% endif %}
    {% if report.singleCalculations %}
        {% for key, value in report.singleCalculations.items  %}
            <div>
                <label class="align">{{key}}:</label>
                <input type="text" readonly="readonly" style="margin:5px" value="{{value}}">
            </div>
        {% endfor%}
    {% endif %}
    {% if report.arrayCalculations %}
        {% for k,v in report.arrayCalculations.items  %}
            <h4>{{k}}</h4>
            <table>
                <tr>
                    <th> </th>
                    {% for col in v.colNames%}
                    <th>{{col}}</th>
                    {% endfor %}
                </tr>
                {% for k,val in v.values.items%}
                <tr>
                    <td>{{k}}</td>
                    {%for d in val%}
                    <td>{{d}}</td>
                    {% endfor %}
                </tr>
                {% endfor %}

            </table>
        {% endfor%}
    {% endif %}
    {% if report.figures %}
        {% for k,v in report.figures.items %}
            <h4>{{k}}</h4>
            <!--  base 64 image v -->
            <img src="data:image/png;base64, {{v}}" width="40%" height="30%;">
        {% endfor %}
    {% endif %}


</div>

{% endblock %}