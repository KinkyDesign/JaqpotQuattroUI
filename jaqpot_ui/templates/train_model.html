{% extends "base.html" %}

{% block content %}
<form method="post" id="form1"> {% csrf_token %}
<div class="div-table" style="width:100%; display: inline-block;">
    <h1>Train model</h1>
    <div class="form-search search-only" style="float:right; right:5%;"><i class="search-icon glyphicon glyphicon-search"></i> <input id="filter" class="form-control search-query green-form"></div>
    <h4>Choose Algorithm</h4>

    <div style="float:left; width:50%">
        <h3>Regression</h3>
        {% load endless %}
        <div>
             {% paginate 20 entries %}
             {% for e in entries %}
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio" value="{{e.name}}">{{e.name}}</label>
            {% endfor %}

            {% get_pages %}
         <div id="pageNavPosition" class="pagination">
             <span class="step-links">
                    <ul class="pagination">
                        {% if pages.previous %}
                            <li class="active">
                                {{ pages.previous}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Previous</a>
                            </li>
                        {%endif%}
                        {% for page in pages %}
                        <li>{{page}}</li>
                        {%endfor%}

                        {% if pages.next %}
                            <li class="active">
                                {{ pages.next}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Next </a>
                            </li>
                        {%endif%}

                   </ul>
                </span>
            </div>
        </div>
    </div>
    <div style="float:left; width:50%">
        <h3>Classification</h3>
        {% load endless %}
        <div>
             {% paginate 20 entries %}
             {% for e in entries %}
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="radio" name="radio" value="{{e.name}}">{{e.name}}</label>
            {% endfor %}

            {% get_pages %}
         <div id="pageNavPosition1" class="pagination">
             <span class="step-links">
                    <ul class="pagination">
                        {% if pages.previous %}
                            <li class="active">
                                {{ pages.previous}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Previous</a>
                            </li>
                        {%endif%}
                        {% for other_page in pages %}
                        <li>{{other_page}}</li>
                        {%endfor%}

                        {% if pages.next %}
                            <li class="active">
                                {{ pages.next}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Next </a>
                            </li>
                        {%endif%}

                   </ul>
                </span>
            </div>
        </div>
    </div>
    <!-- <div style="float:left; width:33%;">
        <h3>Jaqpot</h3>
        {% load endless %}
        <div>
             {% paginate 20 entries %}
             {% for e in entries %}
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block; width:99%;">
                    <input type="checkbox" name="checkbox" id= "check" value="{{e.name}}">{{e.name}}</label>
            {% endfor %}

            {% get_pages %}
         <div id="pageNavPosition" class="pagination">
             <span class="step-links">
                    <ul class="pagination">
                        {% if pages.previous %}
                            <li class="active">
                                {{ pages.previous}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Previous</a>
                            </li>
                        {%endif%}
                        {% for page in pages %}
                        <li>{{page}}</li>
                        {%endfor%}

                        {% if pages.next %}
                            <li class="active">
                                {{ pages.next}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Next </a>
                            </li>
                        {%endif%}

                   </ul>
                </span>
            </div>
        </div>
    </div>
    <div style="float:left; width:33%;">
        <h3>Public</h3>
         <div>
             {% paginate 20 entries_2 using "other_page" %}
             {% for e in entries_2 %}
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block;width:99%;">
                    <input type="checkbox" name="checkbox" value="{{e}}">{{e}}</label>
            {% endfor %}
            {% get_pages %}
            <div id="pageNavPosition2" class="pagination">
                <span class="step-links">
                    <ul class="pagination">
                        {% if pages.previous %}
                            <li class="active">
                                {{ pages.previous}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Previous</a>
                            </li>
                        {%endif%}
                        {% for other_page in pages %}
                        <li>{{other_page}}</li>
                        {%endfor%}

                        {% if pages.next %}
                            <li class="active">
                                {{ pages.next}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#"> Next </a>
                            </li>
                        {%endif%}

                   </ul>
                </span>
            </div>
        </div>
    </div>
    <div style="float:left; width:33%;">
       <h3>Mine</h3>
        <div>
            {% paginate 20 entries_3 using "other_object_page" %}
            {% for e in entries_3 %}
                <label class="algorithms" style="border: 1px solid #ccc;padding:5px;margin:0 0 5px;display:block;width:99%;">
                    <input type="checkbox" name="checkbox" value="{{e}}">{{e}}</label>
            {% endfor %}
            {% get_pages %}
            <div id="pageNavPosition3" class="pagination">
                <span class="step-links">
                    <ul class="pagination">
                        {% if pages.previous %}
                            <li class="active">
                                {{ pages.previous}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#">Previous</a>
                            </li>
                        {%endif%}
                        {% for other_objects_page in pages %}
                        <li>{{other_objects_page}}</li>
                        {%endfor%}

                        {% if pages.next %}
                            <li class="active">
                                {{ pages.next}}
                            </li>
                        {% else%}
                        <li class="active">
                                <a href="#"> Next </a>
                            </li>
                        {%endif%}

                   </ul>
                </span>
            </div>

        </div>
    </div> -->
   <!--<a href="/dataset" class="btn btn-success" style="width:10%; float:right; right:10%;" >Save</a> -->
     <input id="choose_alg" type="submit" value="Next" class="btn bt-red" style="width: 10%; float:right; right:10%;">


    <input id="id_alg" style="display:none">
</div>
     </form>


<script>

    /* $('input[name=checkbox]').click(function(){
        //get value of all checked checkboxes
        var checkedAlg = $('input[name=checkbox]:checked').map(function() {
        return this.value;
        }).get();
        var data=[]
        for (i = 0; i < checkedAlg.length; i++) {
            data[i]={'algorithm' : checkedAlg[i] }
        }
        //convert to json format
        checkedAlg = JSON.stringify(data)
        $('#id_alg').val(checkedAlg)
        })

$('#choose_alg').bind('click', function(e){

            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json; charset=utf-8',
                url: '/train/',
                data: checkedAlg,
                success: function(result) {
                        document.write(result)
                        }
    });

});  */

//search
$(document).ready(function(){
    $("#filter").keyup(function(){

        // Retrieve the input field text and reset the count to zero
        var filter = $(this).val(), count = 0;

        // Loop through the comment list
        $(".algorithms").each(function(){

            // If the list item does not contain the text phrase fade it out
            if ($(this).text().search(new RegExp(filter, "i")) < 0) {
                $(this).fadeOut();

            // Show the list item if the phrase matches and increase the count by 1
            } else {
                $(this).show();
                count++;
            }
        });

        // Update the count
        var numberItems = count;
        $("#filter-count").text("Number of Comments = "+count);
    });
});
</script>
{% endblock %}